<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
        //浅拷贝：拷贝就是复制，就相当于把一个对象中的所有的内容，复制一份给另一个对象，直接复制，或者说，就是把一个对象的地址给了另一个对象，他们指向相同，两个对象之间有共同的属性或者方法，都可以使用
        
        var obj1={
            age:10,
            name:'小明'
        }
        var obj2={};
        function copyObj(a,b){
            for(var key in obj1){
                b[key]=a[key];
            }
        }

        copyObj(obj1,obj2);
        obj2.age=20;
        console.dir(obj1);
        console.dir(obj2);

        //深拷贝：拷贝还是复制，深：把一个对象中所有的属性或者方法，一个一个的找到，并且在另一个对象中开辟相应的空间，一个一个的存储到另一个对象中

        var obj1={
            age:10,
            name:'小明',
            car:["奔驰","宝马"],
            dog:{
                name:"大黄",
                color:"白色"
            }
        };
        var obj2={};    //空对象
        //通过函数实现，把对象a中的所有的数据深拷贝到对象b中
        function extend(a,b){
            for(var key in a){
                var item=a[key];
                if(item instanceof Array){   //是数组
                    b[key]=[];
                    extend(item,b[key]);    //递归
                }else if(item instanceof Object){ //是对象
                    b[key]={};
                    extend(item,b[key]);
                }else{  //是基本类型，直接给b
                    b[key]=item;
                }
            }
        }
        extend(obj1,obj2);
        obj1.car[1]="大众";
        console.dir(obj1);
        console.dir(obj2);


        //手写一个深拷贝----2020.1.15练习

        // var obj1={
        //     name:'哈哈',
        //     age:10,
        //     hobby:{
        //         one:'游泳',
        //         two:'吃饭'
        //     },
        //     car:["奔驰","宝马"]
        // }
        // var obj2={};
        // function extend(a,b){
        //     for(key in a){
        //         var item=a[key];
        //         if(item instanceof Object){
        //             b[key]={};
        //             extend(item,b[key]);
        //         }else if(item instanceof Array){
        //             b[key]=[];
        //             extend(item,b[key]);
        //         }else{
        //             b[key]=item;
        //         }
        //     }
        // }
        // extend(obj1,obj2)
    </script>
</body>
</html>
